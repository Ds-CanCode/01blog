<nav class="navbar custom-navbar" [class.navbar-hidden]="navbarHidden" [ngStyle]="{ 'background-color':bgColor}">
  <div class="container-fluid d-flex justify-content-between align-items-center" style="flex-wrap: nowrap;">

    <!-- ðŸ”µ Logo + Search -->
    <div class="d-flex align-items-center gap-3">
      <a class="navbar-brand" href="#">
        <img src="logo.png" alt="Logo" class="logo-img" />
      </a>

      <!-- Search -->
      <div class="search-box d-flex align-items-center px-3 flex-grow-1" style="max-width: 300px;" *ngIf="authService.isLoggedIn()">
        <i class="bi bi-search me-2 text-muted"></i>
        <input type="text" class="form-control border-0 bg-transparent shadow-none" placeholder="Search"
          [(ngModel)]="searchText" />
      </div>
    </div>

    <!-- ðŸŸ  Centered links (desktop only) -->
    <div class="navbar-center d-none d-lg-flex gap-4" *ngIf="authService.isLoggedIn()">
      <a class="nav-link" routerLink="/home">Home</a>
      <a class="nav-link" routerLink="/article">Article</a>
      <a class="nav-link" routerLink="/profil">Profil</a>
      <a class="nav-link" routerLink="/admin">Admin</a>
    </div>

    <!-- ðŸ”´ Actions (write, notification, login/register, toggle) -->
    <div class="d-flex align-items-center gap-3">
      <!-- Write -->
      <div class="d-flex align-items-center text-muted icon-button" (click)="openPapier()" *ngIf="authService.isLoggedIn()">
        <i class="bi bi-pencil-square me-1"></i>
        <span class="d-none d-sm-inline" (click)="openPapier()">Write</span>
      </div>

      <!-- Notification -->
      <div class="text-muted icon-button" *ngIf="authService.isLoggedIn()">
        <i class="bi bi-bell" (click)="openNotification()"></i>
      </div>

      <!-- Login/Register (desktop only) -->
      <div class="d-none d-lg-flex gap-2">
        <button class="btn-auth login-btn" (click)="openLogin()">Login</button>
        <button class="btn-auth register-btn" (click)="openRegister()">Register</button>
      </div>

      <!-- ðŸ” Toggle button (mobile only) -->
      <button class="navbar-toggler ms-2 d-lg-none" type="button" aria-controls="mainNavbar"
        [attr.aria-expanded]="menuOpen" aria-label="Toggle navigation" (click)="toggleMenu()">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </div>

  <!-- ðŸ“± Mobile menu -->
  <div class="collapse navbar-collapse d-lg-none px-4" id="mainNavbar" [class.show]="menuOpen">
    <div class="d-flex flex-column align-items-start gap-3">
      <a class="nav-link" routerLink="/home" *ngIf="authService.isLoggedIn()">Home</a>
      <a class="nav-link" routerLink="/article" *ngIf="authService.isLoggedIn()">Article</a>
      <a class="nav-link" routerLink="/profil" *ngIf="authService.isLoggedIn()">Profil</a>

      <!-- Login/Register (mobile only) -->
      <div class="auth-buttons d-flex gap-2 mt-3">
        <button class="btn-auth login-btn" (click)="openLogin()">Login</button>
        <button class="btn-auth register-btn" (click)="openRegister()">Register</button>
      </div>
    </div>
  </div>
</nav>